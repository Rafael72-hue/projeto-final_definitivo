{"ast":null,"code":"import _regeneratorRuntime from \"/home/jonathas/Downloads/Pasta Rafael/projeto_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jonathas/Downloads/Pasta Rafael/projeto_final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/jonathas/Downloads/Pasta Rafael/projeto_final/src/pages/amigos/index.js\";\nimport React, { Component } from \"react\";\nimport Footer from \"../../components/Footer/index\";\nimport Header from \"../../components/Header/index\";\nimport Lista from \"../../components/Lista/index\";\nimport \"./home.css\";\nimport Api from \"../../services/api\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      friends: \"\",\n      loading: false,\n      items: [],\n      itemsTotal: [],\n      pessoasFiltradas: [],\n      indexInicial: 0,\n      indexFinal: 10,\n      totalPage: 0,\n      pageNext: 0,\n      pagePrev: 0,\n      messagemErro: \"\"\n    };\n\n    this.searchFriends = event => {\n      this.setState({\n        friends: event.target.value\n      });\n\n      if (!event.target.value) {\n        this.setState({\n          pessoasFiltradas: []\n        });\n      }\n    };\n\n    this.buttonEntrar = event => {\n      event.preventDefault();\n      var friends = this.state.friends;\n\n      if (friends === \"\") {\n        document.getElementById(\"popUp_error\").style.display = \"block\";\n        document.querySelector(\"#div-geral\").style.filter = \"blur(3px)\";\n        this.setState({\n          pessoasFiltradas: []\n        });\n      } else {\n        var itemsFiltrados = this.state.itemsTotal.filter(pessoa => pessoa.name.first.toLowerCase().indexOf(friends.toLowerCase()) > -1);\n        this.setState({\n          pessoasFiltradas: itemsFiltrados\n        });\n      }\n    };\n\n    this.pagePrev = event => {\n      var _this$state = this.state,\n          itemsTotal = _this$state.itemsTotal,\n          indexInicial = _this$state.indexInicial,\n          indexFinal = _this$state.indexFinal,\n          pagePrev = _this$state.pagePrev;\n      this.setState({\n        items: itemsTotal.slice(indexInicial, indexFinal)\n      });\n      this.setState({\n        pageNext: pagePrev,\n        pagePrev: pagePrev - 1,\n        indexInicial: indexFinal + 1,\n        indexFinal: indexFinal + 10\n      });\n    };\n\n    this.pageNext = event => {\n      var _this$state2 = this.state,\n          itemsTotal = _this$state2.itemsTotal,\n          indexInicial = _this$state2.indexInicial,\n          indexFinal = _this$state2.indexFinal,\n          pageNext = _this$state2.pageNext;\n      this.setState({\n        items: itemsTotal.slice(indexInicial, indexFinal)\n      });\n      this.setState({\n        pageNext: pageNext + 1,\n        pagePrev: pageNext,\n        indexInicial: indexFinal + 1,\n        indexFinal: indexFinal + 10\n      });\n    };\n  }\n\n  componentDidMount() {\n    var title = document.querySelector(\"title\");\n    title.innerText = \"Friendsbook | Buscar Amigos\";\n    this.carregarAmigos();\n  }\n\n  carregarAmigos() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var messagemErro, response, _this$state3, itemsTotal, indexInicial, indexFinal;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              messagemErro = \"\";\n              _context.next = 3;\n              return Api.get(\"/?results=5000\").catch(function (error) {\n                messagemErro = \"Uau, calma coleguinha. Sistema fora do ar, tenta mais tarde! ;)\";\n              });\n\n            case 3:\n              response = _context.sent;\n\n              if (response && response.data && response.data.results) {\n                _this.setState({\n                  itemsTotal: response.data.results,\n                  loading: true,\n                  pessoasFiltradas: [],\n                  totalPage: response.data.results / 10,\n                  pageNext: 2,\n                  pagePrev: 1,\n                  messagemErro: \"\"\n                });\n\n                _this$state3 = _this.state, itemsTotal = _this$state3.itemsTotal, indexInicial = _this$state3.indexInicial, indexFinal = _this$state3.indexFinal;\n\n                _this.setState({\n                  items: itemsTotal.slice(indexInicial, indexFinal)\n                });\n\n                _this.setState({\n                  indexInicial: indexFinal + 1,\n                  indexFinal: indexFinal + 10\n                });\n              } else {\n                _this.setState({\n                  items: [],\n                  loading: false,\n                  messagemErro: messagemErro\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n\n  fechar_popUp() {\n    document.getElementById(\"popUp_error\").style.display = \"none\";\n    document.querySelector(\"#div-geral\").style.filter = \"blur(0px)\";\n  }\n\n  render() {\n    var _this$state4 = this.state,\n        friends = _this$state4.friends,\n        items = _this$state4.items,\n        loading = _this$state4.loading,\n        pessoasFiltradas = _this$state4.pessoasFiltradas,\n        messagemErro = _this$state4.messagemErro;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"div-geral\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"pesquisa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, \"Pesquisar amigos\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      autoComplete: \"off\",\n      onChange: this.searchFriends,\n      value: friends,\n      placeholder: \"Pesquisar\",\n      id: \"inputPesquisar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"search\",\n      onClick: this.buttonEntrar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, \"Buscar\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"conteudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"tituloConteudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, \"Lista de amigos\"), friends && /*#__PURE__*/React.createElement(Lista, {\n      items: pessoasFiltradas,\n      loading: loading,\n      messagemErro: messagemErro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }), !friends && /*#__PURE__*/React.createElement(Lista, {\n      items: items,\n      loading: loading,\n      messagemErro: messagemErro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"searchPagePrev\",\n      disabled: this.state.pagePrev <= 1,\n      onClick: this.pagePrev,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"seta-esquerda\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"searchPageNext\",\n      disabled: this.state.pageNext > 5,\n      onClick: this.pageNext,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"seta-direita\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"popUp_error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"h1_popUp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, \"ERRO\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"texto_popUp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, \"Digite o nome do usu\\xE1rio que voc\\xEA procura para que possamos encontra-lo(a) para voc\\xEA.\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"btn_popUp\",\n      onClick: this.fechar_popUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, \"OK\")));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/jonathas/Downloads/Pasta Rafael/projeto_final/src/pages/amigos/index.js"],"names":["React","Component","Footer","Header","Lista","Api","Home","state","friends","loading","items","itemsTotal","pessoasFiltradas","indexInicial","indexFinal","totalPage","pageNext","pagePrev","messagemErro","searchFriends","event","setState","target","value","buttonEntrar","preventDefault","document","getElementById","style","display","querySelector","filter","itemsFiltrados","pessoa","name","first","toLowerCase","indexOf","slice","componentDidMount","title","innerText","carregarAmigos","get","catch","error","response","data","results","fechar_popUp","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Footer from \"../../components/Footer/index\";\nimport Header from \"../../components/Header/index\";\nimport Lista from \"../../components/Lista/index\";\n\nimport \"./home.css\";\n\nimport Api from \"../../services/api\";\n\nclass Home extends Component {\n  state = {\n    friends: \"\",\n    loading: false,\n    items: [],\n    itemsTotal: [],\n    pessoasFiltradas: [],\n    indexInicial: 0,\n    indexFinal: 10,\n    totalPage: 0,\n    pageNext: 0,\n    pagePrev: 0,\n    messagemErro: \"\"\n  };\n\n  componentDidMount() {\n    let title = document.querySelector(\"title\");\n    title.innerText = \"Friendsbook | Buscar Amigos\";\n    this.carregarAmigos();\n  }\n\n  async carregarAmigos() {\n    let messagemErro = \"\";\n    let response = await Api.get(\"/?results=5000\").catch(function (error) {\n      messagemErro =\n        \"Uau, calma coleguinha. Sistema fora do ar, tenta mais tarde! ;)\";\n    });\n\n    if (response && response.data && response.data.results) {\n      this.setState({\n        itemsTotal: response.data.results,\n        loading: true,\n        pessoasFiltradas: [],\n        totalPage: response.data.results / 10,\n        pageNext: 2,\n        pagePrev: 1,\n        messagemErro: \"\"\n      });\n\n      let { itemsTotal, indexInicial, indexFinal } = this.state;\n      this.setState({\n        items: itemsTotal.slice(indexInicial, indexFinal)\n      });\n      this.setState({\n        indexInicial: indexFinal + 1,\n        indexFinal: indexFinal + 10\n      });\n    } else {\n      this.setState({\n        items: [],\n        loading: false,\n        messagemErro: messagemErro\n      });\n    }\n  }\n\n  searchFriends = (event) => {\n    this.setState({ friends: event.target.value });\n    if (!event.target.value) {\n      this.setState({\n        pessoasFiltradas: []\n      });\n    }\n  };\n\n  buttonEntrar = (event) => {\n    event.preventDefault();\n\n    const { friends } = this.state;\n\n    if (friends === \"\") {\n      document.getElementById(\"popUp_error\").style.display = \"block\";\n      document.querySelector(\"#div-geral\").style.filter = \"blur(3px)\";\n      this.setState({\n        pessoasFiltradas: []\n      });\n    } else {\n      let itemsFiltrados = this.state.itemsTotal.filter(\n        (pessoa) =>\n          pessoa.name.first.toLowerCase().indexOf(friends.toLowerCase()) > -1\n      );\n      this.setState({\n        pessoasFiltradas: itemsFiltrados\n      });\n    }\n  };\n  fechar_popUp() {\n    document.getElementById(\"popUp_error\").style.display = \"none\";\n    document.querySelector(\"#div-geral\").style.filter = \"blur(0px)\";\n  }\n  pagePrev = (event) => {\n    let { itemsTotal, indexInicial, indexFinal, pagePrev } = this.state;\n\n    this.setState({\n      items: itemsTotal.slice(indexInicial, indexFinal)\n    });\n\n    this.setState({\n      pageNext: pagePrev,\n      pagePrev: pagePrev - 1,\n      indexInicial: indexFinal + 1,\n      indexFinal: indexFinal + 10\n    });\n  };\n  pageNext = (event) => {\n    let { itemsTotal, indexInicial, indexFinal, pageNext } = this.state;\n\n    this.setState({\n      items: itemsTotal.slice(indexInicial, indexFinal)\n    });\n\n    this.setState({\n      pageNext: pageNext + 1,\n      pagePrev: pageNext,\n      indexInicial: indexFinal + 1,\n      indexFinal: indexFinal + 10\n    });\n  };\n\n  render() {\n    const {\n      friends,\n      items,\n      loading,\n      pessoasFiltradas,\n      messagemErro\n    } = this.state;\n\n    return (\n      <div>\n        <Header />\n        <div id=\"div-geral\">\n          <div id=\"pesquisa\">\n            <label>Pesquisar amigos</label>\n            <input\n              type=\"search\"\n              autoComplete=\"off\"\n              onChange={this.searchFriends}\n              value={friends}\n              placeholder=\"Pesquisar\"\n              id=\"inputPesquisar\"\n            />\n            <button id=\"search\" onClick={this.buttonEntrar}>\n              Buscar\n            </button>\n          </div>\n          <div id=\"conteudo\">\n            <h2 id=\"tituloConteudo\">Lista de amigos</h2>\n            {friends && (\n              <Lista\n                items={pessoasFiltradas}\n                loading={loading}\n                messagemErro={messagemErro}\n              />\n            )}\n            {!friends && (\n              <Lista\n                items={items}\n                loading={loading}\n                messagemErro={messagemErro}\n              />\n            )}\n          </div>\n          <button\n            id=\"searchPagePrev\"\n            disabled={this.state.pagePrev <= 1}\n            onClick={this.pagePrev}\n          >\n            <div id=\"seta-esquerda\"></div>\n          </button>\n          <button\n            id=\"searchPageNext\"\n            disabled={this.state.pageNext > 5}\n            onClick={this.pageNext}\n          >\n            <div id=\"seta-direita\"></div>\n          </button>\n          <Footer />\n        </div>\n        <div id=\"popUp_error\">\n          <h1 id=\"h1_popUp\">ERRO</h1>\n          <p id=\"texto_popUp\">\n            Digite o nome do usuário que você procura para que possamos\n            encontra-lo(a) para você.\n          </p>\n          <button id=\"btn_popUp\" onClick={this.fechar_popUp}>\n            OK\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}